import{r as Z,j as n}from"../chunks/chunk-4d04ce61.js";import{a as M,R as E,r as w}from"../chunks/chunk-5e9d3f9b.js";var W={exports:{}},P={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L;function ee(){if(L)return P;L=1;var e=Z();function t(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,i=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return P.useSyncExternalStoreWithSelector=function(o,a,p,d,l){var y=i(null);if(y.current===null){var h={hasValue:!1,value:null};y.current=h}else h=y.current;y=u(function(){function m(j){if(!g){if(g=!0,v=j,j=d(j),l!==void 0&&h.hasValue){var k=h.value;if(l(k,j))return O=k}return O=j}if(k=O,r(v,j))return k;var I=d(j);return l!==void 0&&l(k,I)?k:(v=j,O=I)}var g=!1,v,O,B=p===void 0?null:p;return[function(){return m(a())},B===null?void 0:function(){return m(B())}]},[a,p,d,l]);var S=s(o,y[0],y[1]);return c(function(){h.hasValue=!0,h.value=S},[S]),f(S),S},P}W.exports=ee();var te=W.exports,x="default"in M?E:M,q=Symbol.for("react-redux-context"),z=typeof globalThis<"u"?globalThis:{};function re(){if(!x.createContext)return{};const e=z[q]??(z[q]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var N=re(),ne=()=>{throw new Error("uSES not initialized!")};function D(e=N){return function(){return x.useContext(e)}}var H=D(),$=ne,se=e=>{$=e},ie=(e,t)=>e===t;function oe(e=N){const t=e===N?H:D(e);return function(s,i={}){const{equalityFn:c=ie,devModeChecks:u={}}=typeof i=="function"?{equalityFn:i}:i,{store:f,subscription:o,getServerState:a,stabilityCheck:p,identityFunctionCheck:d}=t();x.useRef(!0);const l=x.useCallback({[s.name](h){return s(h)}}[s.name],[s,p,u.stabilityCheck]),y=$(o.addNestedSub,f.getState,a||f.getState,l,c);return x.useDebugValue(y),y}}var ae=oe();function ce(e){e()}function ue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0,i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var K={notify(){},get:()=>[]};function le(e,t){let r,s=K,i=0,c=!1;function u(S){p();const m=s.subscribe(S);let g=!1;return()=>{g||(g=!0,m(),d())}}function f(){s.notify()}function o(){h.onStateChange&&h.onStateChange()}function a(){return c}function p(){i++,r||(r=t?t.addNestedSub(o):e.subscribe(o),s=ue())}function d(){i--,r&&i===0&&(r(),r=void 0,s.clear(),s=K)}function l(){c||(c=!0,p())}function y(){c&&(c=!1,d())}const h={addNestedSub:u,notifyNestedSubs:f,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:y,getListeners:()=>s};return h}var de=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fe=de?x.useLayoutEffect:x.useEffect;function pe({store:e,context:t,children:r,serverState:s,stabilityCheck:i="once",identityFunctionCheck:c="once"}){const u=x.useMemo(()=>{const a=le(e);return{store:e,subscription:a,getServerState:s?()=>s:void 0,stabilityCheck:i,identityFunctionCheck:c}},[e,s,i,c]),f=x.useMemo(()=>e.getState(),[e]);fe(()=>{const{subscription:a}=u;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),f!==e.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[u,f]);const o=t||N;return x.createElement(o.Provider,{value:u},r)}var me=pe;function F(e=N){const t=e===N?H:D(e);return function(){const{store:s}=t();return s}}var he=F();function ye(e=N){const t=e===N?he:F(e);return function(){return t().dispatch}}var A=ye();se(te.useSyncExternalStoreWithSelector);const be=e=>({type:"ADD_BOOK",payload:e}),ge=e=>({type:"DELETE_BOOK",payload:e}),R=e=>({type:"EDIT_BOOK",payload:e}),xe=(e,t)=>({type:"UPDATE",payload:e,data:t}),G=e=>{["e","E","+","-"].includes(e.key)&&e.preventDefault()},ve=()=>{const e=A(),[t,r]=w.useState(""),[s,i]=w.useState(0),[c,u]=w.useState(""),[f,o]=w.useState(""),[a,p]=w.useState(!1),d=l=>{l.preventDefault(),e(be({id:new Date,title:t,message:f,price:s,category:c,editing:!1})),r(""),o(""),i(0),u(""),p(!a)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"button-container mb-3",children:n.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>p(!a),children:"Add a book"})}),a&&n.jsx("div",{className:"modal-1",onClick:()=>p(!a),children:n.jsxs("form",{onClick:l=>l.stopPropagation(),onSubmit:d,children:[n.jsx("button",{onClick:()=>p(!a),className:"btn-close"}),n.jsx("h2",{className:"mb-3",children:"Add New Book"}),n.jsx("input",{required:!0,value:t,type:"text",name:"title",placeholder:"Enter Book Title",onChange:l=>r(l.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("input",{required:!0,onKeyDown:G,value:s,type:"number",name:"price",placeholder:"Enter Book Price",onChange:l=>i(Number(l.target.value))}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("input",{required:!0,value:c,type:"text",name:"category",placeholder:"Enter Book Category",onChange:l=>u(l.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("textarea",{required:!0,value:f,name:"message",rows:5,cols:28,placeholder:"Enter Book Description",onChange:l=>o(l.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("button",{className:"btn btn-primary mb-2",children:"Add Book now"}),n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>p(!a),children:"Cancel"})]})})]})},we="/assets/static/book-cover-1.7a6ddd8a.jpg";var Y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},U=E.createContext&&E.createContext(Y),C=globalThis&&globalThis.__assign||function(){return C=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},C.apply(this,arguments)},Se=globalThis&&globalThis.__rest||function(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(r[s[i]]=e[s[i]]);return r};function J(e){return e&&e.map(function(t,r){return E.createElement(t.tag,C({key:r},t.attr),J(t.child))})}function Q(e){return function(t){return E.createElement(je,C({attr:C({},e.attr)},t),J(e.child))}}function je(e){var t=function(r){var s=e.attr,i=e.size,c=e.title,u=Se(e,["attr","size","title"]),f=i||r.size||"1em",o;return r.className&&(o=r.className),e.className&&(o=(o?o+" ":"")+e.className),E.createElement("svg",C({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:o,style:C(C({color:e.color||r.color},r.style),e.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),c&&E.createElement("title",null,c),e.children)};return U!==void 0?E.createElement(U.Consumer,null,function(r){return t(r)}):t(Y)}function Ee(e){return Q({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function Ce(e){return Q({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"}}]})(e)}const Ne=({book:e})=>{const t=A();return n.jsxs("div",{className:"card mb-4",children:[n.jsxs("div",{className:"image-component",onClick:()=>t(R(e.id)),children:[n.jsx("img",{className:"card-img-top",src:we,alt:"Book Cover"}),n.jsx("h5",{className:"card-title",children:e.title}),n.jsx("div",{className:"icon-container",children:n.jsx(Ee,{className:"fa-edit"})})]}),n.jsxs("div",{className:"card-body",children:[n.jsxs("p",{className:"card-price",children:["$",e.price]}),n.jsx("p",{className:"card-category",children:e.category}),n.jsx("p",{className:"card-text book-description",children:e.message}),n.jsx("button",{type:"button",className:"btn deleteBtn btn-danger",onClick:()=>t(ge(e.id)),children:n.jsx(Ce,{})})]})]},e.id)},Oe=({book:e})=>{const t=A(),[r,s]=w.useState(e.title),[i,c]=w.useState(e.message),[u,f]=w.useState(e.category),[o,a]=w.useState(e.price),p=d=>{d.preventDefault();const l={newTitle:r,newMessage:i,newCategory:u,newPrice:o};t(xe(e.id,l))};return n.jsx("div",{children:n.jsx("div",{onClick:()=>t(R(e.id)),className:"modal-1",children:n.jsxs("form",{onClick:d=>d.stopPropagation(),children:[n.jsx("button",{onClick:()=>t(R(e.id)),className:"btn-close"}),n.jsx("h2",{className:"mb-3",children:"Edit Book"}),n.jsx("input",{required:!0,value:r,type:"text",name:"title",placeholder:"Enter new title",onChange:d=>s(d.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("input",{required:!0,onKeyDown:G,value:o,type:"number",name:"price",placeholder:"Enter new price",onChange:d=>a(Number(d.target.value))}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("input",{required:!0,value:u,type:"text",name:"category",placeholder:"Enter new category",onChange:d=>f(d.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("textarea",{required:!0,value:i,name:"message",rows:5,cols:28,placeholder:"Enter new description",onChange:d=>c(d.target.value)}),n.jsx("br",{})," ",n.jsx("br",{}),n.jsx("button",{className:"btn btn-primary mb-2",onClick:p,children:"Update"}),n.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>t(R(e.id)),children:"Cancel"})]})})})},ke=()=>{const e=ae(t=>t.bookReducer);return n.jsx(n.Fragment,{children:e.map(t=>n.jsxs("div",{className:"col-6 col-xs-6 col-sm-4 col-md-3 col-lg-2",children:[n.jsx(Ne,{book:t},t.id+"-a"),t.editing&&n.jsx(Oe,{book:t},t.id+"-b")]},t.id))})};function Be(){return n.jsx("div",{className:"App",children:n.jsx("div",{className:"container",children:n.jsxs("div",{className:"row",children:[n.jsx("h1",{children:"Bookstore"}),n.jsx(ve,{}),n.jsx(ke,{})]})})})}function b(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Re=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),V=Re,T=()=>Math.random().toString(36).substring(7).split("").join("."),_e={INIT:`@@redux/INIT${T()}`,REPLACE:`@@redux/REPLACE${T()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${T()}`},_=_e;function Pe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function X(e,t,r){if(typeof e!="function")throw new Error(b(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(b(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(b(1));return r(X)(e,t)}let s=e,i=t,c=new Map,u=c,f=0,o=!1;function a(){u===c&&(u=new Map,c.forEach((m,g)=>{u.set(g,m)}))}function p(){if(o)throw new Error(b(3));return i}function d(m){if(typeof m!="function")throw new Error(b(4));if(o)throw new Error(b(5));let g=!0;a();const v=f++;return u.set(v,m),function(){if(g){if(o)throw new Error(b(6));g=!1,a(),u.delete(v),c=null}}}function l(m){if(!Pe(m))throw new Error(b(7));if(typeof m.type>"u")throw new Error(b(8));if(typeof m.type!="string")throw new Error(b(17));if(o)throw new Error(b(9));try{o=!0,i=s(i,m)}finally{o=!1}return(c=u).forEach(v=>{v()}),m}function y(m){if(typeof m!="function")throw new Error(b(10));s=m,l({type:_.REPLACE})}function h(){const m=d;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(b(11));function v(){const B=g;B.next&&B.next(p())}return v(),{unsubscribe:m(v)}},[V](){return this}}}return l({type:_.INIT}),{dispatch:l,subscribe:d,getState:p,replaceReducer:y,[V]:h}}function Te(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:_.INIT})>"u")throw new Error(b(12));if(typeof r(void 0,{type:_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(b(13))})}function De(e){const t=Object.keys(e),r={};for(let c=0;c<t.length;c++){const u=t[c];typeof e[u]=="function"&&(r[u]=e[u])}const s=Object.keys(r);let i;try{Te(r)}catch(c){i=c}return function(u={},f){if(i)throw i;let o=!1;const a={};for(let p=0;p<s.length;p++){const d=s[p],l=r[d],y=u[d],h=l(y,f);if(typeof h>"u")throw f&&f.type,new Error(b(14));a[d]=h,o=o||h!==y}return o=o||s.length!==Object.keys(u).length,o?a:u}}const Ae=[{title:"guiness world records",message:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nihil dolorum minus obcaecati sequi esse iusto dignissimos doloribus, sit quasi deleniti qui consequuntur.",id:"1",category:"fiction",price:22.99,editing:!1},{title:"food for live",message:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Dolorum odit, placeat praesentium in eos repellat cumque labore alias hic ad vero error!",id:"2",category:"health",price:10.55,editing:!1},{title:"Baking Yesteryear",message:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam incidunt, officia alias animi rem quo sint dolores fuga voluptate repudiandae laudantium deleniti.",id:"3",category:"baking",price:14.25,editing:!1}],Ie=(e=Ae,t)=>{switch(t.type){case"ADD_BOOK":return e.concat([t.payload]);case"DELETE_BOOK":return e.filter(r=>r.id!==t.payload);case"EDIT_BOOK":return e.map(r=>r.id===t.payload?{...r,editing:!r.editing}:r);case"UPDATE":return e.map(r=>r.id===t.payload?{...r,title:t.data.newTitle,message:t.data.newMessage,category:t.data.newCategory,price:t.data.newPrice,editing:!r.editing}:r);default:return e}},Me=De({bookReducer:Ie});function ze(){const e=X(Me);return n.jsx(n.Fragment,{children:n.jsx(me,{store:e,children:n.jsx(Be,{})})})}export{ze as Page};
